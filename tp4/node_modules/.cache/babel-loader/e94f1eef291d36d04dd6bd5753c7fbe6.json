{"ast":null,"code":"var _typeof = require(\"C:/Users/danie/Documents/ORT/NT2/TPs/TP4/tp4/node_modules/@babel/runtime/helpers/typeof.js\").default;\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.regexp.test.js\");\n\nrequire(\"core-js/modules/es.regexp.constructor.js\");\n\nrequire(\"core-js/modules/es.regexp.dot-all.js\");\n\nrequire(\"core-js/modules/es.regexp.sticky.js\");\n\nrequire(\"core-js/modules/es.regexp.to-string.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.error.cause.js\");\n\nrequire(\"core-js/modules/es.string.replace.js\");\n\nrequire(\"core-js/modules/es.array.join.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.function.name.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.sort.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.json.stringify.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.number.constructor.js\");\n\nrequire(\"core-js/modules/es.object.get-prototype-of.js\");\n\n(function (global, factory) {\n  (typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : global.VueForm = factory();\n})(this, function () {\n  'use strict';\n\n  var emailRegExp = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i; // from angular\n\n  var urlRegExp = /^(http\\:\\/\\/|https\\:\\/\\/)(.{4,})$/;\n\n  var email = function email(value, attrValue, vnode) {\n    return emailRegExp.test(value);\n  };\n\n  email._allowNulls = true;\n\n  var number = function number(value, attrValue, vnode) {\n    return !isNaN(value);\n  };\n\n  number._allowNulls = true;\n\n  var url = function url(value, attrValue, vnode) {\n    return urlRegExp.test(value);\n  };\n\n  url._allowNulls = true;\n  var validators = {\n    email: email,\n    number: number,\n    url: url,\n    required: function required(value, attrValue, vnode) {\n      if (attrValue === false) {\n        return true;\n      }\n\n      if (value === 0) {\n        return true;\n      }\n\n      if (vnode.data.attrs && typeof vnode.data.attrs.bool !== 'undefined' || vnode.componentOptions && vnode.componentOptions.propsData && typeof vnode.componentOptions.propsData.bool !== 'undefined') {\n        // bool attribute is present, allow false pass validation\n        if (value === false) {\n          return true;\n        }\n      }\n\n      if (Array.isArray(value)) {\n        return !!value.length;\n      }\n\n      return !!value;\n    },\n    minlength: function minlength(value, length) {\n      return value.length >= length;\n    },\n    maxlength: function maxlength(value, length) {\n      return length >= value.length;\n    },\n    pattern: function pattern(value, _pattern) {\n      var patternRegExp = new RegExp('^' + _pattern + '$');\n      return patternRegExp.test(value);\n    },\n    min: function min(value, _min, vnode) {\n      if ((vnode.data.attrs.type || '').toLowerCase() == 'number') {\n        return +value >= +_min;\n      }\n\n      return value >= _min;\n    },\n    max: function max(value, _max, vnode) {\n      if ((vnode.data.attrs.type || '').toLowerCase() == 'number') {\n        return +_max >= +value;\n      }\n\n      return _max >= value;\n    }\n  };\n  var config = {\n    validators: validators,\n    formComponent: 'VueForm',\n    formTag: 'form',\n    messagesComponent: 'FieldMessages',\n    messagesTag: 'div',\n    showMessages: '',\n    validateComponent: 'Validate',\n    validateTag: 'div',\n    fieldComponent: 'Field',\n    fieldTag: 'div',\n    formClasses: {\n      dirty: 'vf-form-dirty',\n      pristine: 'vf-form-pristine',\n      valid: 'vf-form-valid',\n      invalid: 'vf-form-invalid',\n      touched: 'vf-form-touched',\n      untouched: 'vf-form-untouched',\n      focused: 'vf-form-focused',\n      submitted: 'vf-form-submitted',\n      pending: 'vf-form-pending'\n    },\n    validateClasses: {\n      dirty: 'vf-field-dirty',\n      pristine: 'vf-field-pristine',\n      valid: 'vf-field-valid',\n      invalid: 'vf-field-invalid',\n      touched: 'vf-field-touched',\n      untouched: 'vf-field-untouched',\n      focused: 'vf-field-focused',\n      submitted: 'vf-field-submitted',\n      pending: 'vf-field-pending'\n    },\n    inputClasses: {\n      dirty: 'vf-dirty',\n      pristine: 'vf-pristine',\n      valid: 'vf-valid',\n      invalid: 'vf-invalid',\n      touched: 'vf-touched',\n      untouched: 'vf-untouched',\n      focused: 'vf-focused',\n      submitted: 'vf-submitted',\n      pending: 'vf-pending'\n    },\n    Promise: typeof Promise === 'function' ? Promise : null\n  };\n\n  var classCallCheck = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var defineProperty = function defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  };\n\n  var inherits = function inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + _typeof(superClass));\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  var possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (_typeof(call) === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  function getClasses(classConfig, state) {\n    var _ref;\n\n    return _ref = {}, defineProperty(_ref, classConfig.dirty, state.$dirty), defineProperty(_ref, classConfig.pristine, state.$pristine), defineProperty(_ref, classConfig.valid, state.$valid), defineProperty(_ref, classConfig.invalid, state.$invalid), defineProperty(_ref, classConfig.touched, state.$touched), defineProperty(_ref, classConfig.untouched, state.$untouched), defineProperty(_ref, classConfig.focused, state.$focused), defineProperty(_ref, classConfig.pending, state.$pending), defineProperty(_ref, classConfig.submitted, state.$submitted), _ref;\n  }\n\n  function addClass(el, className) {\n    if (el.classList) {\n      el.classList.add(className);\n    } else {\n      el.className += ' ' + className;\n    }\n  }\n\n  function removeClass(el, className) {\n    if (el.classList) {\n      el.classList.remove(className);\n    } else {\n      el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    }\n  }\n\n  function vModelValue(data) {\n    if (data.model) {\n      return data.model.value;\n    }\n\n    return data.directives.filter(function (v) {\n      return v.name === 'model';\n    })[0].value;\n  }\n\n  function getVModelAndLabel(nodes, config) {\n    var foundVnodes = {\n      vModel: [],\n      label: null,\n      messages: null\n    };\n\n    if (!nodes) {\n      return foundVnodes;\n    }\n\n    function traverse(nodes) {\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n\n        if (node.componentOptions) {\n          if (node.componentOptions.tag === hyphenate(config.messagesComponent)) {\n            foundVnodes.messages = node;\n          }\n        }\n\n        if (node.tag === 'label' && !foundVnodes.label) {\n          foundVnodes.label = node;\n        }\n\n        if (node.data) {\n          if (node.data.model) {\n            // model check has to come first. If a component has\n            // a directive and v-model, the directive will be in .directives\n            // and v-modelstored in .model\n            foundVnodes.vModel.push(node);\n          } else if (node.data.directives) {\n            var match = node.data.directives.filter(function (v) {\n              return v.name === 'model';\n            });\n\n            if (match.length) {\n              foundVnodes.vModel.push(node);\n            }\n          }\n        }\n\n        if (node.children) {\n          traverse(node.children);\n        } else if (node.componentOptions && node.componentOptions.children) {\n          traverse(node.componentOptions.children);\n        }\n      }\n    }\n\n    traverse(nodes);\n    return foundVnodes;\n  }\n\n  function getName(vnode) {\n    if (vnode.data && vnode.data.attrs && vnode.data.attrs.name) {\n      return vnode.data.attrs.name;\n    } else if (vnode.componentOptions && vnode.componentOptions.propsData && vnode.componentOptions.propsData.name) {\n      return vnode.componentOptions.propsData.name;\n    }\n  }\n\n  var hyphenateRE = /([^-])([A-Z])/g;\n\n  function hyphenate(str) {\n    return str.replace(hyphenateRE, '$1-$2').replace(hyphenateRE, '$1-$2').toLowerCase();\n  }\n\n  function randomId() {\n    return Math.random().toString(36).substr(2, 10);\n  } // https://davidwalsh.name/javascript-debounce-function\n\n\n  function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n      var context = this,\n          args = arguments;\n\n      var later = function later() {\n        timeout = null;\n        if (!immediate) func.apply(context, args);\n      };\n\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) func.apply(context, args);\n    };\n  }\n\n  function isShallowObjectDifferent(a, b) {\n    var aValue = '';\n    var bValue = '';\n    Object.keys(a).sort().filter(function (v) {\n      return typeof a[v] !== 'function';\n    }).forEach(function (v) {\n      return aValue += a[v];\n    });\n    Object.keys(b).sort().filter(function (v) {\n      return typeof a[v] !== 'function';\n    }).forEach(function (v) {\n      return bValue += b[v];\n    });\n    return aValue !== bValue;\n  }\n\n  var vueFormConfig = 'VueFormProviderConfig' + randomId();\n  var vueFormState = 'VueFormProviderState' + randomId();\n  var vueFormParentForm = 'VueFormProviderParentForm' + randomId();\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var toStr = Object.prototype.toString;\n  var defineProperty$1 = Object.defineProperty;\n  var gOPD = Object.getOwnPropertyDescriptor;\n\n  var isArray = function isArray(arr) {\n    if (typeof Array.isArray === 'function') {\n      return Array.isArray(arr);\n    }\n\n    return toStr.call(arr) === '[object Array]';\n  };\n\n  var isPlainObject = function isPlainObject(obj) {\n    if (!obj || toStr.call(obj) !== '[object Object]') {\n      return false;\n    }\n\n    var hasOwnConstructor = hasOwn.call(obj, 'constructor');\n    var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf'); // Not own constructor property must be Object\n\n    if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n      return false;\n    } // Own properties are enumerated firstly, so to speed up,\n    // if last one is own, then all properties are own.\n\n\n    var key;\n\n    for (key in obj) {\n      /**/\n    }\n\n    return typeof key === 'undefined' || hasOwn.call(obj, key);\n  }; // If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\n\n\n  var setProperty = function setProperty(target, options) {\n    if (defineProperty$1 && options.name === '__proto__') {\n      defineProperty$1(target, options.name, {\n        enumerable: true,\n        configurable: true,\n        value: options.newValue,\n        writable: true\n      });\n    } else {\n      target[options.name] = options.newValue;\n    }\n  }; // Return undefined instead of __proto__ if '__proto__' is not an own property\n\n\n  var getProperty = function getProperty(obj, name) {\n    if (name === '__proto__') {\n      if (!hasOwn.call(obj, name)) {\n        return void 0;\n      } else if (gOPD) {\n        // In early versions of node, obj['__proto__'] is buggy when obj has\n        // __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n        return gOPD(obj, name).value;\n      }\n    }\n\n    return obj[name];\n  };\n\n  var extend = function extend() {\n    var options, name, src, copy, copyIsArray, clone;\n    var target = arguments[0];\n    var i = 1;\n    var length = arguments.length;\n    var deep = false; // Handle a deep copy situation\n\n    if (typeof target === 'boolean') {\n      deep = target;\n      target = arguments[1] || {}; // skip the boolean and the target\n\n      i = 2;\n    }\n\n    if (target == null || _typeof(target) !== 'object' && typeof target !== 'function') {\n      target = {};\n    }\n\n    for (; i < length; ++i) {\n      options = arguments[i]; // Only deal with non-null/undefined values\n\n      if (options != null) {\n        // Extend the base object\n        for (name in options) {\n          src = getProperty(target, name);\n          copy = getProperty(options, name); // Prevent never-ending loop\n\n          if (target !== copy) {\n            // Recurse if we're merging plain objects or arrays\n            if (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n              if (copyIsArray) {\n                copyIsArray = false;\n                clone = src && isArray(src) ? src : [];\n              } else {\n                clone = src && isPlainObject(src) ? src : {};\n              } // Never move original objects, clone them\n\n\n              setProperty(target, {\n                name: name,\n                newValue: extend(deep, clone, copy)\n              }); // Don't bring in undefined values\n            } else if (typeof copy !== 'undefined') {\n              setProperty(target, {\n                name: name,\n                newValue: copy\n              });\n            }\n          }\n        }\n      }\n    } // Return the modified object\n\n\n    return target;\n  };\n\n  var vueForm = {\n    render: function render(h) {\n      var _this = this;\n\n      var attrs = {};\n\n      if (typeof window !== 'undefined') {\n        attrs.novalidate = '';\n      }\n\n      return h(this.tag || this.vueFormConfig.formTag, {\n        on: {\n          submit: function submit(event) {\n            if (_this.state.$pending) {\n              event.preventDefault();\n\n              _this.vueFormConfig.Promise.all(_this.promises).then(function () {\n                _this.state._submit();\n\n                _this.$emit('submit', event);\n\n                _this.promises = [];\n              });\n            } else {\n              _this.state._submit();\n\n              _this.$emit('submit', event);\n            }\n          },\n          reset: function reset(event) {\n            _this.state._reset();\n\n            _this.$emit('reset', event);\n          }\n        },\n        class: this.className,\n        attrs: attrs\n      }, [this.$slots.default]);\n    },\n    props: {\n      state: {\n        type: Object,\n        required: true\n      },\n      tag: String,\n      showMessages: String\n    },\n    inject: {\n      vueFormConfig: vueFormConfig\n    },\n    provide: function provide() {\n      var _ref;\n\n      return _ref = {}, defineProperty(_ref, vueFormState, this.state), defineProperty(_ref, vueFormParentForm, this), _ref;\n    },\n    data: function data() {\n      return {\n        promises: []\n      };\n    },\n    created: function created() {\n      var _this2 = this;\n\n      if (!this.state) {\n        return;\n      }\n\n      var controls = {};\n      var state = this.state;\n      var formstate = {\n        $dirty: false,\n        $pristine: true,\n        $valid: true,\n        $invalid: false,\n        $submitted: false,\n        $touched: false,\n        $untouched: true,\n        $focused: false,\n        $pending: false,\n        $error: {},\n        $submittedState: {},\n        _id: '',\n        _submit: function _submit() {\n          _this2.state.$submitted = true;\n\n          _this2.state._cloneState();\n        },\n        _cloneState: function _cloneState() {\n          var cloned = JSON.parse(JSON.stringify(state));\n          delete cloned.$submittedState;\n          Object.keys(cloned).forEach(function (key) {\n            _this2.$set(_this2.state.$submittedState, key, cloned[key]);\n          });\n        },\n        _addControl: function _addControl(ctrl) {\n          controls[ctrl.$name] = ctrl;\n\n          _this2.$set(state, ctrl.$name, ctrl);\n        },\n        _removeControl: function _removeControl(ctrl) {\n          delete controls[ctrl.$name];\n\n          _this2.$delete(_this2.state, ctrl.$name);\n\n          _this2.$delete(_this2.state.$error, ctrl.$name);\n        },\n        _validate: function _validate() {\n          Object.keys(controls).forEach(function (key) {\n            controls[key]._validate();\n          });\n        },\n        _reset: function _reset() {\n          state.$submitted = false;\n          state.$pending = false;\n          state.$submittedState = {};\n          Object.keys(controls).forEach(function (key) {\n            var control = controls[key];\n            control._hasFocused = false;\n\n            control._setUntouched();\n\n            control._setPristine();\n\n            control.$submitted = false;\n            control.$pending = false;\n          });\n        }\n      };\n      Object.keys(formstate).forEach(function (key) {\n        _this2.$set(_this2.state, key, formstate[key]);\n      });\n      this.$watch('state', function () {\n        var isDirty = false;\n        var isValid = true;\n        var isTouched = false;\n        var isFocused = false;\n        var isPending = false;\n        Object.keys(controls).forEach(function (key) {\n          var control = controls[key];\n          control.$submitted = state.$submitted;\n\n          if (control.$dirty) {\n            isDirty = true;\n          }\n\n          if (control.$touched) {\n            isTouched = true;\n          }\n\n          if (control.$focused) {\n            isFocused = true;\n          }\n\n          if (control.$pending) {\n            isPending = true;\n          }\n\n          if (!control.$valid) {\n            isValid = false; // add control to errors\n\n            _this2.$set(state.$error, control.$name, control);\n          } else {\n            _this2.$delete(state.$error, control.$name);\n          }\n        });\n        state.$dirty = isDirty;\n        state.$pristine = !isDirty;\n        state.$touched = isTouched;\n        state.$untouched = !isTouched;\n        state.$focused = isFocused;\n        state.$valid = isValid;\n        state.$invalid = !isValid;\n        state.$pending = isPending;\n      }, {\n        deep: true,\n        immediate: true\n      });\n      /* watch pristine? if set to true, set all children to pristine\r\n      Object.keys(controls).forEach((ctrl) => {\r\n        controls[ctrl].setPristine();\r\n      });*/\n    },\n    computed: {\n      className: function className() {\n        var classes = getClasses(this.vueFormConfig.formClasses, this.state);\n        return classes;\n      }\n    },\n    methods: {\n      reset: function reset() {\n        this.state._reset();\n      },\n      validate: function validate() {\n        this.state._validate();\n      }\n    }\n  };\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var scope_eval = createCommonjsModule(function (module) {\n    // Generated by CoffeeScript 1.10.0\n    (function () {\n      var hasProp = {}.hasOwnProperty,\n          slice = [].slice;\n\n      module.exports = function (source, scope) {\n        var key, keys, value, values;\n        keys = [];\n        values = [];\n\n        for (key in scope) {\n          if (!hasProp.call(scope, key)) continue;\n          value = scope[key];\n\n          if (key === 'this') {\n            continue;\n          }\n\n          keys.push(key);\n          values.push(value);\n        }\n\n        return Function.apply(null, slice.call(keys).concat([\"return eval(\" + JSON.stringify(source) + \")\"])).apply(scope[\"this\"], values);\n      };\n    }).call(commonjsGlobal);\n  });\n\n  function findLabel(nodes) {\n    if (!nodes) {\n      return;\n    }\n\n    for (var i = 0; i < nodes.length; i++) {\n      var vnode = nodes[i];\n\n      if (vnode.tag === 'label') {\n        return nodes[i];\n      } else if (nodes[i].children) {\n        return findLabel(nodes[i].children);\n      }\n    }\n  }\n\n  var messages = {\n    inject: {\n      vueFormConfig: vueFormConfig,\n      vueFormState: vueFormState,\n      vueFormParentForm: vueFormParentForm\n    },\n    render: function render(h) {\n      var _this = this;\n\n      var children = [];\n      var field = this.formstate[this.fieldname];\n\n      if (field && field.$error && this.isShown) {\n        Object.keys(field.$error).forEach(function (key) {\n          if (_this.$slots[key] || _this.$scopedSlots[key]) {\n            var out = _this.$slots[key] || _this.$scopedSlots[key](field);\n\n            if (_this.autoLabel) {\n              var label = findLabel(out);\n\n              if (label) {\n                label.data = label.data || {};\n                label.data.attrs = label.data.attrs || {};\n                label.data.attrs.for = field._id;\n              }\n            }\n\n            children.push(out);\n          }\n        });\n\n        if (!children.length && field.$valid) {\n          if (this.$slots.default || this.$scopedSlots.default) {\n            var out = this.$slots.default || this.$scopedSlots.default(field);\n\n            if (this.autoLabel) {\n              var label = findLabel(out);\n\n              if (label) {\n                label.data = label.data || {};\n                label.data.attrs = label.data.attrs || {};\n                label.data.attrs.for = field._id;\n              }\n            }\n\n            children.push(out);\n          }\n        }\n      }\n\n      return h(this.tag || this.vueFormConfig.messagesTag, children);\n    },\n    props: {\n      state: Object,\n      name: String,\n      show: {\n        type: String,\n        default: ''\n      },\n      tag: {\n        type: String\n      },\n      autoLabel: Boolean\n    },\n    data: function data() {\n      return {\n        formstate: null,\n        fieldname: ''\n      };\n    },\n    created: function created() {\n      this.fieldname = this.name;\n      this.formstate = this.state || this.vueFormState;\n    },\n    computed: {\n      isShown: function isShown() {\n        var field = this.formstate[this.fieldname];\n        var show = this.show || this.vueFormParentForm.showMessages || this.vueFormConfig.showMessages;\n\n        if (!show || !field) {\n          return true;\n        }\n\n        return scope_eval(show, field);\n      }\n    }\n  };\n  var validate = {\n    render: function render(h) {\n      var _this = this;\n\n      var foundVnodes = getVModelAndLabel(this.$slots.default, this.vueFormConfig);\n      var vModelnodes = foundVnodes.vModel;\n      var attrs = {\n        for: null\n      };\n\n      if (vModelnodes.length) {\n        this.name = getName(vModelnodes[0]);\n\n        if (foundVnodes.messages) {\n          this.$nextTick(function () {\n            var messagesVm = foundVnodes.messages.componentInstance;\n\n            if (messagesVm) {\n              messagesVm.fieldname = messagesVm.fieldname || _this.name;\n            }\n          });\n        }\n\n        if (this.autoLabel) {\n          var id = vModelnodes[0].data.attrs.id || this.fieldstate._id;\n          this.fieldstate._id = id;\n          vModelnodes[0].data.attrs.id = id;\n\n          if (foundVnodes.label) {\n            foundVnodes.label.data = foundVnodes.label.data || {};\n            foundVnodes.label.data.attrs = foundVnodes.label.data.attrs || {};\n            foundVnodes.label.data.attrs.for = id;\n          } else if (this.tag === 'label') {\n            attrs.for = id;\n          }\n        }\n\n        vModelnodes.forEach(function (vnode) {\n          if (!vnode.data.directives) {\n            vnode.data.directives = [];\n          }\n\n          vnode.data.directives.push({\n            name: 'vue-form-validator',\n            value: {\n              fieldstate: _this.fieldstate,\n              config: _this.vueFormConfig\n            }\n          });\n          vnode.data.attrs['vue-form-validator'] = '';\n          vnode.data.attrs['debounce'] = _this.debounce;\n        });\n      } else {//console.warn('Element with v-model not found');\n      }\n\n      return h(this.tag || this.vueFormConfig.validateTag, {\n        'class': this.className,\n        attrs: attrs\n      }, this.$slots.default);\n    },\n    props: {\n      state: Object,\n      custom: null,\n      autoLabel: Boolean,\n      tag: {\n        type: String\n      },\n      debounce: Number\n    },\n    inject: {\n      vueFormConfig: vueFormConfig,\n      vueFormState: vueFormState,\n      vueFormParentForm: vueFormParentForm\n    },\n    data: function data() {\n      return {\n        name: '',\n        formstate: null,\n        fieldstate: {}\n      };\n    },\n    methods: {\n      getClasses: function getClasses$$1(classConfig) {\n        var s = this.fieldstate;\n        return Object.keys(s.$error).reduce(function (classes, error) {\n          classes[classConfig.invalid + '-' + hyphenate(error)] = true;\n          return classes;\n        }, getClasses(classConfig, s));\n      }\n    },\n    computed: {\n      className: function className() {\n        return this.getClasses(this.vueFormConfig.validateClasses);\n      },\n      inputClassName: function inputClassName() {\n        return this.getClasses(this.vueFormConfig.inputClasses);\n      }\n    },\n    mounted: function mounted() {\n      var _this2 = this;\n\n      this.fieldstate.$name = this.name;\n\n      this.formstate._addControl(this.fieldstate);\n\n      var vModelEls = this.$el.querySelectorAll('[vue-form-validator]'); // add classes to the input element\n\n      this.$watch('inputClassName', function (value, oldValue) {\n        var out = void 0;\n\n        var _loop = function _loop(i, el) {\n          if (oldValue) {\n            Object.keys(oldValue).filter(function (k) {\n              return oldValue[k];\n            }).forEach(function (k) {\n              return removeClass(el, k);\n            });\n          }\n\n          out = [];\n          Object.keys(value).filter(function (k) {\n            return value[k];\n          }).forEach(function (k) {\n            out.push(k);\n            addClass(el, k);\n          });\n        };\n\n        for (var i = 0, el; el = vModelEls[i++];) {\n          _loop(i, el);\n        }\n\n        _this2.fieldstate._className = out;\n      }, {\n        deep: true,\n        immediate: true\n      });\n      this.$watch('name', function (value, oldValue) {\n        _this2.formstate._removeControl(_this2.fieldstate);\n\n        _this2.fieldstate.$name = value;\n\n        _this2.formstate._addControl(_this2.fieldstate);\n      });\n    },\n    created: function created() {\n      var _this4 = this;\n\n      this.formstate = this.state || this.vueFormState;\n      var vm = this;\n      var pendingValidators = [];\n\n      var _val = void 0;\n\n      var prevVnode = void 0;\n      this.fieldstate = {\n        $name: '',\n        $dirty: false,\n        $pristine: true,\n        $valid: true,\n        $invalid: false,\n        $touched: false,\n        $untouched: true,\n        $focused: false,\n        $pending: false,\n        $submitted: false,\n        $error: {},\n        $attrs: {},\n        _className: null,\n        _id: 'vf' + randomId(),\n        _setValidatorValidity: function _setValidatorValidity(validator, isValid) {\n          if (isValid) {\n            vm.$delete(this.$error, validator);\n          } else {\n            vm.$set(this.$error, validator, true);\n          }\n        },\n        _setValidity: function _setValidity(isValid) {\n          this.$valid = isValid;\n          this.$invalid = !isValid;\n        },\n        _setDirty: function _setDirty() {\n          this.$dirty = true;\n          this.$pristine = false;\n        },\n        _setPristine: function _setPristine() {\n          this.$dirty = false;\n          this.$pristine = true;\n        },\n        _setTouched: function _setTouched() {\n          this.$touched = true;\n          this.$untouched = false;\n        },\n        _setUntouched: function _setUntouched() {\n          this.$touched = false;\n          this.$untouched = true;\n        },\n        _setFocused: function _setFocused(value) {\n          this.$focused = typeof value === 'boolean' ? value : false;\n\n          if (this.$focused) {\n            this._setHasFocused();\n          } else {\n            this._setTouched();\n          }\n        },\n        _setHasFocused: function _setHasFocused() {\n          this._hasFocused = true;\n        },\n        _hasFocused: false,\n        _validators: {},\n        _validate: function _validate(vnode) {\n          var _this3 = this;\n\n          if (!vnode) {\n            vnode = prevVnode;\n          } else {\n            prevVnode = vnode;\n          }\n\n          this.$pending = true;\n          var isValid = true;\n          var emptyAndRequired = false;\n          var value = vModelValue(vnode.data);\n          _val = value;\n          var pending = {\n            promises: [],\n            names: []\n          };\n          pendingValidators.push(pending);\n          var attrs = vnode.data.attrs || {};\n          var childvm = vnode.componentInstance;\n\n          if (childvm && childvm._vfValidationData_) {\n            attrs = extend({}, attrs, childvm._vfValidationData_);\n          }\n\n          var propsData = vnode.componentOptions && vnode.componentOptions.propsData ? vnode.componentOptions.propsData : {};\n          Object.keys(this._validators).forEach(function (validator) {\n            // when value is empty and current validator is not the required validator, the field is valid\n            if ((value === '' || value === undefined || value === null) && validator !== 'required') {\n              _this3._setValidatorValidity(validator, true);\n\n              emptyAndRequired = true; // return early, required validator will\n              // fall through if it is present\n\n              return;\n            }\n\n            var attrValue = typeof attrs[validator] !== 'undefined' ? attrs[validator] : propsData[validator];\n            var isFunction = typeof _this3._validators[validator] === 'function'; // match vue behaviour, ignore if attribute is null or undefined. But for type=email|url|number and custom validators, the value will be null, so allow with _allowNulls\n\n            if (isFunction && (attrValue === null || typeof attrValue === 'undefined') && !_this3._validators[validator]._allowNulls) {\n              return;\n            }\n\n            if (attrValue) {\n              _this3.$attrs[validator] = attrValue;\n            }\n\n            var result = isFunction ? _this3._validators[validator](value, attrValue, vnode) : vm.custom[validator];\n\n            if (typeof result === 'boolean') {\n              if (result) {\n                _this3._setValidatorValidity(validator, true);\n              } else {\n                isValid = false;\n\n                _this3._setValidatorValidity(validator, false);\n              }\n            } else {\n              pending.promises.push(result);\n              pending.names.push(validator);\n              vm.vueFormParentForm.promises.push(result);\n            }\n          });\n\n          if (pending.promises.length) {\n            vm.vueFormConfig.Promise.all(pending.promises).then(function (results) {\n              // only concerned with the last promise results, in case\n              // async responses return out of order\n              if (pending !== pendingValidators[pendingValidators.length - 1]) {\n                //console.log('ignoring old promise', pending.promises);\n                return;\n              }\n\n              pendingValidators = [];\n              results.forEach(function (result, i) {\n                var name = pending.names[i];\n\n                if (result) {\n                  _this3._setValidatorValidity(name, true);\n                } else {\n                  isValid = false;\n\n                  _this3._setValidatorValidity(name, false);\n                }\n              });\n\n              _this3._setValidity(isValid);\n\n              _this3.$pending = false;\n            });\n          } else {\n            this._setValidity(isValid);\n\n            this.$pending = false;\n          }\n        }\n      }; // add custom validators\n\n      if (this.custom) {\n        Object.keys(this.custom).forEach(function (prop) {\n          if (typeof _this4.custom[prop] === 'function') {\n            _this4.custom[prop]._allowNulls = true;\n            _this4.fieldstate._validators[prop] = _this4.custom[prop];\n          } else {\n            _this4.fieldstate._validators[prop] = _this4.custom[prop];\n          }\n        });\n      }\n\n      this.$watch('custom', function (v, oldV) {\n        if (!oldV || !v) {\n          return;\n        }\n\n        if (isShallowObjectDifferent(v, oldV)) {\n          _this4.fieldstate._validate();\n        }\n      }, {\n        deep: true\n      });\n    },\n    destroyed: function destroyed() {\n      this.formstate._removeControl(this.fieldstate);\n    }\n  };\n  var field = {\n    inject: {\n      vueFormConfig: vueFormConfig\n    },\n    render: function render(h) {\n      var foundVnodes = getVModelAndLabel(this.$slots.default, this.vueFormConfig);\n      var vModelnodes = foundVnodes.vModel;\n      var attrs = {\n        for: null\n      };\n\n      if (vModelnodes.length) {\n        if (this.autoLabel) {\n          var id = vModelnodes[0].data.attrs && vModelnodes[0].data.attrs.id || 'vf' + randomId();\n          vModelnodes[0].data.attrs.id = id;\n\n          if (foundVnodes.label) {\n            foundVnodes.label.data = foundVnodes.label.data || {};\n            foundVnodes.label.data.attrs = foundVnodes.label.data.attrs = {};\n            foundVnodes.label.data.attrs.for = id;\n          } else if (this.tag === 'label') {\n            attrs.for = id;\n          }\n        }\n      }\n\n      return h(this.tag || this.vueFormConfig.fieldTag, {\n        attrs: attrs\n      }, this.$slots.default);\n    },\n    props: {\n      tag: {\n        type: String\n      },\n      autoLabel: {\n        type: Boolean,\n        default: true\n      }\n    }\n  };\n  var debouncedValidators = {};\n\n  function addValidators(attrs, validators, fieldValidators) {\n    Object.keys(attrs).forEach(function (attr) {\n      var prop = attr === 'type' ? attrs[attr].toLowerCase() : attr.toLowerCase();\n\n      if (validators[prop] && !fieldValidators[prop]) {\n        fieldValidators[prop] = validators[prop];\n      }\n    });\n  }\n\n  function compareChanges(vnode, oldvnode, validators) {\n    var hasChanged = false;\n    var attrs = vnode.data.attrs || {};\n    var oldAttrs = oldvnode.data.attrs || {};\n    var out = {};\n\n    if (vModelValue(vnode.data) !== vModelValue(oldvnode.data)) {\n      out.vModel = true;\n      hasChanged = true;\n    }\n\n    Object.keys(validators).forEach(function (validator) {\n      if (attrs[validator] !== oldAttrs[validator]) {\n        out[validator] = true;\n        hasChanged = true;\n      }\n    }); // if is a component\n\n    if (vnode.componentOptions && vnode.componentOptions.propsData) {\n      var _attrs = vnode.componentOptions.propsData;\n      var _oldAttrs = oldvnode.componentOptions.propsData;\n      Object.keys(validators).forEach(function (validator) {\n        if (_attrs[validator] !== _oldAttrs[validator]) {\n          out[validator] = true;\n          hasChanged = true;\n        }\n      });\n    }\n\n    if (hasChanged) {\n      return out;\n    }\n  }\n\n  var vueFormValidator = {\n    name: 'vue-form-validator',\n    bind: function bind(el, binding, vnode) {\n      var fieldstate = binding.value.fieldstate;\n      var validators = binding.value.config.validators;\n      var attrs = vnode.data.attrs || {};\n      var inputName = getName(vnode);\n\n      if (!inputName) {\n        console.warn('vue-form: name attribute missing');\n        return;\n      }\n\n      if (attrs.debounce) {\n        debouncedValidators[fieldstate._id] = debounce(function (fieldstate, vnode) {\n          if (fieldstate._hasFocused) {\n            fieldstate._setDirty();\n          }\n\n          fieldstate._validate(vnode);\n        }, attrs.debounce);\n      } // add validators\n\n\n      addValidators(attrs, validators, fieldstate._validators); // if is a component, a validator attribute could be a prop this component uses\n\n      if (vnode.componentOptions && vnode.componentOptions.propsData) {\n        addValidators(vnode.componentOptions.propsData, validators, fieldstate._validators);\n      }\n\n      fieldstate._validate(vnode); // native listeners\n\n\n      el.addEventListener('blur', function () {\n        fieldstate._setFocused(false);\n      }, false);\n      el.addEventListener('focus', function () {\n        fieldstate._setFocused(true);\n      }, false); // component listeners\n\n      var vm = vnode.componentInstance;\n\n      if (vm) {\n        vm.$on('blur', function () {\n          fieldstate._setFocused(false);\n        });\n        vm.$on('focus', function () {\n          fieldstate._setFocused(true);\n        });\n        vm.$once('vf:addFocusListeners', function () {\n          el.addEventListener('focusout', function () {\n            fieldstate._setFocused(false);\n          }, false);\n          el.addEventListener('focusin', function () {\n            fieldstate._setFocused(true);\n          }, false);\n        });\n        vm.$on('vf:validate', function (data) {\n          if (!vm._vfValidationData_) {\n            addValidators(data, validators, fieldstate._validators);\n          }\n\n          vm._vfValidationData_ = data;\n\n          fieldstate._validate(vm.$vnode);\n        });\n      }\n    },\n    update: function update(el, binding, vnode, oldVNode) {\n      var validators = binding.value.config.validators;\n      var changes = compareChanges(vnode, oldVNode, validators);\n      var fieldstate = binding.value.fieldstate;\n      var attrs = vnode.data.attrs || {};\n      var vm = vnode.componentInstance;\n\n      if (vm && vm._vfValidationData_) {\n        attrs = extend({}, attrs, vm[vm._vfValidationData_]);\n      }\n\n      if (vnode.elm.className.indexOf(fieldstate._className[0]) === -1) {\n        vnode.elm.className = vnode.elm.className + ' ' + fieldstate._className.join(' ');\n      }\n\n      if (!changes) {\n        return;\n      }\n\n      if (changes.vModel) {\n        // re-validate all\n        if (attrs.debounce) {\n          fieldstate.$pending = true;\n\n          debouncedValidators[fieldstate._id](fieldstate, vnode);\n        } else {\n          if (fieldstate._hasFocused) {\n            fieldstate._setDirty();\n          }\n\n          fieldstate._validate(vnode);\n        }\n      } else {\n        // attributes have changed\n        // to do: loop through them and re-validate changed ones\n        //for(let prop in changes) {\n        //  fieldstate._validate(vnode, validator);\n        //}\n        // for now\n        fieldstate._validate(vnode);\n      }\n    }\n  };\n\n  function VueFormBase(options) {\n    var _components;\n\n    var c = extend(true, {}, config, options);\n\n    this.provide = function () {\n      return defineProperty({}, vueFormConfig, c);\n    };\n\n    this.components = (_components = {}, defineProperty(_components, c.formComponent, vueForm), defineProperty(_components, c.messagesComponent, messages), defineProperty(_components, c.validateComponent, validate), defineProperty(_components, c.fieldComponent, field), _components);\n    this.directives = {\n      vueFormValidator: vueFormValidator\n    };\n  }\n\n  var VueForm = function (_VueFormBase) {\n    inherits(VueForm, _VueFormBase);\n\n    function VueForm() {\n      classCallCheck(this, VueForm);\n      return possibleConstructorReturn(this, (VueForm.__proto__ || Object.getPrototypeOf(VueForm)).apply(this, arguments));\n    }\n\n    createClass(VueForm, null, [{\n      key: 'install',\n      value: function install(Vue, options) {\n        Vue.mixin(new this(options));\n      }\n    }, {\n      key: 'installed',\n      get: function get$$1() {\n        return !!this.install.done;\n      },\n      set: function set$$1(val) {\n        this.install.done = val;\n      }\n    }]);\n    return VueForm;\n  }(VueFormBase);\n\n  VueFormBase.call(VueForm); // temp fix for vue 2.3.0\n\n  VueForm.options = new VueForm();\n  return VueForm;\n});","map":{"version":3,"names":["global","factory","exports","module","define","amd","VueForm","emailRegExp","urlRegExp","email","value","attrValue","vnode","test","_allowNulls","number","isNaN","url","validators","required","data","attrs","bool","componentOptions","propsData","Array","isArray","length","minlength","maxlength","pattern","_pattern","patternRegExp","RegExp","min","_min","type","toLowerCase","max","_max","config","formComponent","formTag","messagesComponent","messagesTag","showMessages","validateComponent","validateTag","fieldComponent","fieldTag","formClasses","dirty","pristine","valid","invalid","touched","untouched","focused","submitted","pending","validateClasses","inputClasses","Promise","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","obj","inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","possibleConstructorReturn","self","call","ReferenceError","getClasses","classConfig","state","_ref","$dirty","$pristine","$valid","$invalid","$touched","$untouched","$focused","$pending","$submitted","addClass","el","className","classList","add","removeClass","remove","replace","split","join","vModelValue","model","directives","filter","v","name","getVModelAndLabel","nodes","foundVnodes","vModel","label","messages","traverse","node","tag","hyphenate","push","match","children","getName","hyphenateRE","str","randomId","Math","random","toString","substr","debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","setTimeout","isShallowObjectDifferent","a","b","aValue","bValue","keys","sort","forEach","vueFormConfig","vueFormState","vueFormParentForm","hasOwn","hasOwnProperty","toStr","defineProperty$1","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","options","newValue","getProperty","extend","src","copy","copyIsArray","clone","deep","vueForm","render","h","_this","window","novalidate","on","submit","event","preventDefault","all","promises","then","_submit","$emit","reset","_reset","class","$slots","default","String","inject","provide","created","_this2","controls","formstate","$error","$submittedState","_id","_cloneState","cloned","JSON","parse","stringify","$set","_addControl","ctrl","$name","_removeControl","$delete","_validate","control","_hasFocused","_setUntouched","_setPristine","$watch","isDirty","isValid","isTouched","isFocused","isPending","computed","classes","methods","validate","commonjsGlobal","createCommonjsModule","fn","scope_eval","hasProp","slice","source","scope","values","Function","concat","findLabel","field","fieldname","isShown","$scopedSlots","out","autoLabel","for","show","Boolean","vModelnodes","$nextTick","messagesVm","componentInstance","id","fieldstate","custom","Number","getClasses$$1","s","reduce","error","inputClassName","mounted","vModelEls","$el","querySelectorAll","oldValue","_loop","k","_className","_this4","vm","pendingValidators","_val","prevVnode","$attrs","_setValidatorValidity","validator","_setValidity","_setDirty","_setTouched","_setFocused","_setHasFocused","_validators","_this3","emptyAndRequired","names","childvm","_vfValidationData_","undefined","isFunction","result","results","prop","oldV","destroyed","debouncedValidators","addValidators","fieldValidators","attr","compareChanges","oldvnode","hasChanged","oldAttrs","_attrs","_oldAttrs","vueFormValidator","bind","binding","inputName","console","warn","addEventListener","$on","$once","$vnode","update","oldVNode","changes","elm","indexOf","VueFormBase","_components","c","components","_VueFormBase","getPrototypeOf","install","Vue","mixin","get","get$$1","done","set","set$$1","val"],"sources":["C:/Users/danie/Documents/ORT/NT2/TPs/TP4/tp4/node_modules/vue-form/dist/vue-form.js"],"sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.VueForm = factory());\n}(this, (function () { 'use strict';\n\nvar emailRegExp = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i; // from angular\nvar urlRegExp = /^(http\\:\\/\\/|https\\:\\/\\/)(.{4,})$/;\n\nvar email = function email(value, attrValue, vnode) {\n  return emailRegExp.test(value);\n};\nemail._allowNulls = true;\n\nvar number = function number(value, attrValue, vnode) {\n  return !isNaN(value);\n};\nnumber._allowNulls = true;\n\nvar url = function url(value, attrValue, vnode) {\n  return urlRegExp.test(value);\n};\nurl._allowNulls = true;\n\nvar validators = {\n  email: email,\n  number: number,\n  url: url,\n  required: function required(value, attrValue, vnode) {\n    if (attrValue === false) {\n      return true;\n    }\n\n    if (value === 0) {\n      return true;\n    }\n\n    if (vnode.data.attrs && typeof vnode.data.attrs.bool !== 'undefined' || vnode.componentOptions && vnode.componentOptions.propsData && typeof vnode.componentOptions.propsData.bool !== 'undefined') {\n      // bool attribute is present, allow false pass validation\n      if (value === false) {\n        return true;\n      }\n    }\n\n    if (Array.isArray(value)) {\n      return !!value.length;\n    }\n    return !!value;\n  },\n  minlength: function minlength(value, length) {\n    return value.length >= length;\n  },\n  maxlength: function maxlength(value, length) {\n    return length >= value.length;\n  },\n  pattern: function pattern(value, _pattern) {\n    var patternRegExp = new RegExp('^' + _pattern + '$');\n    return patternRegExp.test(value);\n  },\n  min: function min(value, _min, vnode) {\n    if ((vnode.data.attrs.type || '').toLowerCase() == 'number') {\n      return +value >= +_min;\n    }\n    return value >= _min;\n  },\n  max: function max(value, _max, vnode) {\n    if ((vnode.data.attrs.type || '').toLowerCase() == 'number') {\n      return +_max >= +value;\n    }\n    return _max >= value;\n  }\n};\n\nvar config = {\n  validators: validators,\n  formComponent: 'VueForm',\n  formTag: 'form',\n  messagesComponent: 'FieldMessages',\n  messagesTag: 'div',\n  showMessages: '',\n  validateComponent: 'Validate',\n  validateTag: 'div',\n  fieldComponent: 'Field',\n  fieldTag: 'div',\n  formClasses: {\n    dirty: 'vf-form-dirty',\n    pristine: 'vf-form-pristine',\n    valid: 'vf-form-valid',\n    invalid: 'vf-form-invalid',\n    touched: 'vf-form-touched',\n    untouched: 'vf-form-untouched',\n    focused: 'vf-form-focused',\n    submitted: 'vf-form-submitted',\n    pending: 'vf-form-pending'\n  },\n  validateClasses: {\n    dirty: 'vf-field-dirty',\n    pristine: 'vf-field-pristine',\n    valid: 'vf-field-valid',\n    invalid: 'vf-field-invalid',\n    touched: 'vf-field-touched',\n    untouched: 'vf-field-untouched',\n    focused: 'vf-field-focused',\n    submitted: 'vf-field-submitted',\n    pending: 'vf-field-pending'\n  },\n  inputClasses: {\n    dirty: 'vf-dirty',\n    pristine: 'vf-pristine',\n    valid: 'vf-valid',\n    invalid: 'vf-invalid',\n    touched: 'vf-touched',\n    untouched: 'vf-untouched',\n    focused: 'vf-focused',\n    submitted: 'vf-submitted',\n    pending: 'vf-pending'\n  },\n  Promise: typeof Promise === 'function' ? Promise : null\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nfunction getClasses(classConfig, state) {\n  var _ref;\n\n  return _ref = {}, defineProperty(_ref, classConfig.dirty, state.$dirty), defineProperty(_ref, classConfig.pristine, state.$pristine), defineProperty(_ref, classConfig.valid, state.$valid), defineProperty(_ref, classConfig.invalid, state.$invalid), defineProperty(_ref, classConfig.touched, state.$touched), defineProperty(_ref, classConfig.untouched, state.$untouched), defineProperty(_ref, classConfig.focused, state.$focused), defineProperty(_ref, classConfig.pending, state.$pending), defineProperty(_ref, classConfig.submitted, state.$submitted), _ref;\n}\n\nfunction addClass(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    el.className += ' ' + className;\n  }\n}\n\nfunction removeClass(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  }\n}\n\nfunction vModelValue(data) {\n  if (data.model) {\n    return data.model.value;\n  }\n  return data.directives.filter(function (v) {\n    return v.name === 'model';\n  })[0].value;\n}\n\nfunction getVModelAndLabel(nodes, config) {\n  var foundVnodes = {\n    vModel: [],\n    label: null,\n    messages: null\n  };\n\n  if (!nodes) {\n    return foundVnodes;\n  }\n\n  function traverse(nodes) {\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n\n      if (node.componentOptions) {\n        if (node.componentOptions.tag === hyphenate(config.messagesComponent)) {\n          foundVnodes.messages = node;\n        }\n      }\n\n      if (node.tag === 'label' && !foundVnodes.label) {\n        foundVnodes.label = node;\n      }\n\n      if (node.data) {\n        if (node.data.model) {\n          // model check has to come first. If a component has\n          // a directive and v-model, the directive will be in .directives\n          // and v-modelstored in .model\n          foundVnodes.vModel.push(node);\n        } else if (node.data.directives) {\n          var match = node.data.directives.filter(function (v) {\n            return v.name === 'model';\n          });\n          if (match.length) {\n            foundVnodes.vModel.push(node);\n          }\n        }\n      }\n      if (node.children) {\n        traverse(node.children);\n      } else if (node.componentOptions && node.componentOptions.children) {\n        traverse(node.componentOptions.children);\n      }\n    }\n  }\n\n  traverse(nodes);\n\n  return foundVnodes;\n}\n\nfunction getName(vnode) {\n  if (vnode.data && vnode.data.attrs && vnode.data.attrs.name) {\n    return vnode.data.attrs.name;\n  } else if (vnode.componentOptions && vnode.componentOptions.propsData && vnode.componentOptions.propsData.name) {\n    return vnode.componentOptions.propsData.name;\n  }\n}\n\nvar hyphenateRE = /([^-])([A-Z])/g;\nfunction hyphenate(str) {\n  return str.replace(hyphenateRE, '$1-$2').replace(hyphenateRE, '$1-$2').toLowerCase();\n}\n\nfunction randomId() {\n  return Math.random().toString(36).substr(2, 10);\n}\n\n// https://davidwalsh.name/javascript-debounce-function\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this,\n        args = arguments;\n    var later = function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nfunction isShallowObjectDifferent(a, b) {\n  var aValue = '';\n  var bValue = '';\n  Object.keys(a).sort().filter(function (v) {\n    return typeof a[v] !== 'function';\n  }).forEach(function (v) {\n    return aValue += a[v];\n  });\n  Object.keys(b).sort().filter(function (v) {\n    return typeof a[v] !== 'function';\n  }).forEach(function (v) {\n    return bValue += b[v];\n  });\n  return aValue !== bValue;\n}\n\nvar vueFormConfig = 'VueFormProviderConfig' + randomId();\nvar vueFormState = 'VueFormProviderState' + randomId();\nvar vueFormParentForm = 'VueFormProviderParentForm' + randomId();\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty$1 = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty$1 && options.name === '__proto__') {\n\t\tdefineProperty$1(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nvar extend = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\nvar vueForm = {\n  render: function render(h) {\n    var _this = this;\n\n    var attrs = {};\n\n    if (typeof window !== 'undefined') {\n      attrs.novalidate = '';\n    }\n\n    return h(this.tag || this.vueFormConfig.formTag, {\n      on: {\n        submit: function submit(event) {\n          if (_this.state.$pending) {\n            event.preventDefault();\n            _this.vueFormConfig.Promise.all(_this.promises).then(function () {\n              _this.state._submit();\n              _this.$emit('submit', event);\n              _this.promises = [];\n            });\n          } else {\n            _this.state._submit();\n            _this.$emit('submit', event);\n          }\n        },\n        reset: function reset(event) {\n          _this.state._reset();\n          _this.$emit('reset', event);\n        }\n      },\n      class: this.className,\n      attrs: attrs\n    }, [this.$slots.default]);\n  },\n\n  props: {\n    state: {\n      type: Object,\n      required: true\n    },\n    tag: String,\n    showMessages: String\n  },\n  inject: { vueFormConfig: vueFormConfig },\n  provide: function provide() {\n    var _ref;\n\n    return _ref = {}, defineProperty(_ref, vueFormState, this.state), defineProperty(_ref, vueFormParentForm, this), _ref;\n  },\n\n  data: function data() {\n    return {\n      promises: []\n    };\n  },\n  created: function created() {\n    var _this2 = this;\n\n    if (!this.state) {\n      return;\n    }\n    var controls = {};\n    var state = this.state;\n    var formstate = {\n      $dirty: false,\n      $pristine: true,\n      $valid: true,\n      $invalid: false,\n      $submitted: false,\n      $touched: false,\n      $untouched: true,\n      $focused: false,\n      $pending: false,\n      $error: {},\n      $submittedState: {},\n      _id: '',\n      _submit: function _submit() {\n        _this2.state.$submitted = true;\n        _this2.state._cloneState();\n      },\n      _cloneState: function _cloneState() {\n        var cloned = JSON.parse(JSON.stringify(state));\n        delete cloned.$submittedState;\n        Object.keys(cloned).forEach(function (key) {\n          _this2.$set(_this2.state.$submittedState, key, cloned[key]);\n        });\n      },\n      _addControl: function _addControl(ctrl) {\n        controls[ctrl.$name] = ctrl;\n        _this2.$set(state, ctrl.$name, ctrl);\n      },\n      _removeControl: function _removeControl(ctrl) {\n        delete controls[ctrl.$name];\n        _this2.$delete(_this2.state, ctrl.$name);\n        _this2.$delete(_this2.state.$error, ctrl.$name);\n      },\n      _validate: function _validate() {\n        Object.keys(controls).forEach(function (key) {\n          controls[key]._validate();\n        });\n      },\n      _reset: function _reset() {\n        state.$submitted = false;\n        state.$pending = false;\n        state.$submittedState = {};\n        Object.keys(controls).forEach(function (key) {\n          var control = controls[key];\n          control._hasFocused = false;\n          control._setUntouched();\n          control._setPristine();\n          control.$submitted = false;\n          control.$pending = false;\n        });\n      }\n    };\n\n    Object.keys(formstate).forEach(function (key) {\n      _this2.$set(_this2.state, key, formstate[key]);\n    });\n\n    this.$watch('state', function () {\n      var isDirty = false;\n      var isValid = true;\n      var isTouched = false;\n      var isFocused = false;\n      var isPending = false;\n      Object.keys(controls).forEach(function (key) {\n        var control = controls[key];\n\n        control.$submitted = state.$submitted;\n\n        if (control.$dirty) {\n          isDirty = true;\n        }\n        if (control.$touched) {\n          isTouched = true;\n        }\n        if (control.$focused) {\n          isFocused = true;\n        }\n        if (control.$pending) {\n          isPending = true;\n        }\n        if (!control.$valid) {\n          isValid = false;\n          // add control to errors\n          _this2.$set(state.$error, control.$name, control);\n        } else {\n          _this2.$delete(state.$error, control.$name);\n        }\n      });\n\n      state.$dirty = isDirty;\n      state.$pristine = !isDirty;\n      state.$touched = isTouched;\n      state.$untouched = !isTouched;\n      state.$focused = isFocused;\n      state.$valid = isValid;\n      state.$invalid = !isValid;\n      state.$pending = isPending;\n    }, {\n      deep: true,\n      immediate: true\n    });\n\n    /* watch pristine? if set to true, set all children to pristine\r\n    Object.keys(controls).forEach((ctrl) => {\r\n      controls[ctrl].setPristine();\r\n    });*/\n  },\n\n  computed: {\n    className: function className() {\n      var classes = getClasses(this.vueFormConfig.formClasses, this.state);\n      return classes;\n    }\n  },\n  methods: {\n    reset: function reset() {\n      this.state._reset();\n    },\n    validate: function validate() {\n      this.state._validate();\n    }\n  }\n};\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\n\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar scope_eval = createCommonjsModule(function (module) {\n// Generated by CoffeeScript 1.10.0\n(function() {\n  var hasProp = {}.hasOwnProperty,\n    slice = [].slice;\n\n  module.exports = function(source, scope) {\n    var key, keys, value, values;\n    keys = [];\n    values = [];\n    for (key in scope) {\n      if (!hasProp.call(scope, key)) continue;\n      value = scope[key];\n      if (key === 'this') {\n        continue;\n      }\n      keys.push(key);\n      values.push(value);\n    }\n    return Function.apply(null, slice.call(keys).concat([\"return eval(\" + (JSON.stringify(source)) + \")\"])).apply(scope[\"this\"], values);\n  };\n\n}).call(commonjsGlobal);\n});\n\nfunction findLabel(nodes) {\n  if (!nodes) {\n    return;\n  }\n  for (var i = 0; i < nodes.length; i++) {\n    var vnode = nodes[i];\n    if (vnode.tag === 'label') {\n      return nodes[i];\n    } else if (nodes[i].children) {\n      return findLabel(nodes[i].children);\n    }\n  }\n}\n\nvar messages = {\n  inject: { vueFormConfig: vueFormConfig, vueFormState: vueFormState, vueFormParentForm: vueFormParentForm },\n  render: function render(h) {\n    var _this = this;\n\n    var children = [];\n    var field = this.formstate[this.fieldname];\n    if (field && field.$error && this.isShown) {\n      Object.keys(field.$error).forEach(function (key) {\n        if (_this.$slots[key] || _this.$scopedSlots[key]) {\n          var out = _this.$slots[key] || _this.$scopedSlots[key](field);\n          if (_this.autoLabel) {\n            var label = findLabel(out);\n            if (label) {\n              label.data = label.data || {};\n              label.data.attrs = label.data.attrs || {};\n              label.data.attrs.for = field._id;\n            }\n          }\n          children.push(out);\n        }\n      });\n      if (!children.length && field.$valid) {\n        if (this.$slots.default || this.$scopedSlots.default) {\n          var out = this.$slots.default || this.$scopedSlots.default(field);\n          if (this.autoLabel) {\n            var label = findLabel(out);\n            if (label) {\n              label.data = label.data || {};\n              label.data.attrs = label.data.attrs || {};\n              label.data.attrs.for = field._id;\n            }\n          }\n          children.push(out);\n        }\n      }\n    }\n    return h(this.tag || this.vueFormConfig.messagesTag, children);\n  },\n\n  props: {\n    state: Object,\n    name: String,\n    show: {\n      type: String,\n      default: ''\n    },\n    tag: {\n      type: String\n    },\n    autoLabel: Boolean\n  },\n  data: function data() {\n    return {\n      formstate: null,\n      fieldname: ''\n    };\n  },\n  created: function created() {\n    this.fieldname = this.name;\n    this.formstate = this.state || this.vueFormState;\n  },\n\n  computed: {\n    isShown: function isShown() {\n      var field = this.formstate[this.fieldname];\n      var show = this.show || this.vueFormParentForm.showMessages || this.vueFormConfig.showMessages;\n\n      if (!show || !field) {\n        return true;\n      }\n\n      return scope_eval(show, field);\n    }\n  }\n};\n\nvar validate = {\n  render: function render(h) {\n    var _this = this;\n\n    var foundVnodes = getVModelAndLabel(this.$slots.default, this.vueFormConfig);\n    var vModelnodes = foundVnodes.vModel;\n    var attrs = {\n      for: null\n    };\n    if (vModelnodes.length) {\n      this.name = getName(vModelnodes[0]);\n\n      if (foundVnodes.messages) {\n        this.$nextTick(function () {\n          var messagesVm = foundVnodes.messages.componentInstance;\n          if (messagesVm) {\n            messagesVm.fieldname = messagesVm.fieldname || _this.name;\n          }\n        });\n      }\n\n      if (this.autoLabel) {\n        var id = vModelnodes[0].data.attrs.id || this.fieldstate._id;\n        this.fieldstate._id = id;\n        vModelnodes[0].data.attrs.id = id;\n        if (foundVnodes.label) {\n          foundVnodes.label.data = foundVnodes.label.data || {};\n          foundVnodes.label.data.attrs = foundVnodes.label.data.attrs || {};\n          foundVnodes.label.data.attrs.for = id;\n        } else if (this.tag === 'label') {\n          attrs.for = id;\n        }\n      }\n      vModelnodes.forEach(function (vnode) {\n        if (!vnode.data.directives) {\n          vnode.data.directives = [];\n        }\n        vnode.data.directives.push({ name: 'vue-form-validator', value: { fieldstate: _this.fieldstate, config: _this.vueFormConfig } });\n        vnode.data.attrs['vue-form-validator'] = '';\n        vnode.data.attrs['debounce'] = _this.debounce;\n      });\n    } else {\n      //console.warn('Element with v-model not found');\n    }\n    return h(this.tag || this.vueFormConfig.validateTag, { 'class': this.className, attrs: attrs }, this.$slots.default);\n  },\n\n  props: {\n    state: Object,\n    custom: null,\n    autoLabel: Boolean,\n    tag: {\n      type: String\n    },\n    debounce: Number\n  },\n  inject: { vueFormConfig: vueFormConfig, vueFormState: vueFormState, vueFormParentForm: vueFormParentForm },\n  data: function data() {\n    return {\n      name: '',\n      formstate: null,\n      fieldstate: {}\n    };\n  },\n\n  methods: {\n    getClasses: function getClasses$$1(classConfig) {\n      var s = this.fieldstate;\n      return Object.keys(s.$error).reduce(function (classes, error) {\n        classes[classConfig.invalid + '-' + hyphenate(error)] = true;\n        return classes;\n      }, getClasses(classConfig, s));\n    }\n  },\n  computed: {\n    className: function className() {\n      return this.getClasses(this.vueFormConfig.validateClasses);\n    },\n    inputClassName: function inputClassName() {\n      return this.getClasses(this.vueFormConfig.inputClasses);\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.fieldstate.$name = this.name;\n    this.formstate._addControl(this.fieldstate);\n\n    var vModelEls = this.$el.querySelectorAll('[vue-form-validator]');\n\n    // add classes to the input element\n    this.$watch('inputClassName', function (value, oldValue) {\n      var out = void 0;\n\n      var _loop = function _loop(i, el) {\n        if (oldValue) {\n          Object.keys(oldValue).filter(function (k) {\n            return oldValue[k];\n          }).forEach(function (k) {\n            return removeClass(el, k);\n          });\n        }\n        out = [];\n        Object.keys(value).filter(function (k) {\n          return value[k];\n        }).forEach(function (k) {\n          out.push(k);\n          addClass(el, k);\n        });\n      };\n\n      for (var i = 0, el; el = vModelEls[i++];) {\n        _loop(i, el);\n      }\n      _this2.fieldstate._className = out;\n    }, {\n      deep: true,\n      immediate: true\n    });\n\n    this.$watch('name', function (value, oldValue) {\n      _this2.formstate._removeControl(_this2.fieldstate);\n      _this2.fieldstate.$name = value;\n      _this2.formstate._addControl(_this2.fieldstate);\n    });\n  },\n  created: function created() {\n    var _this4 = this;\n\n    this.formstate = this.state || this.vueFormState;\n    var vm = this;\n    var pendingValidators = [];\n    var _val = void 0;\n    var prevVnode = void 0;\n    this.fieldstate = {\n      $name: '',\n      $dirty: false,\n      $pristine: true,\n      $valid: true,\n      $invalid: false,\n      $touched: false,\n      $untouched: true,\n      $focused: false,\n      $pending: false,\n      $submitted: false,\n      $error: {},\n      $attrs: {},\n      _className: null,\n      _id: 'vf' + randomId(),\n      _setValidatorValidity: function _setValidatorValidity(validator, isValid) {\n        if (isValid) {\n          vm.$delete(this.$error, validator);\n        } else {\n          vm.$set(this.$error, validator, true);\n        }\n      },\n      _setValidity: function _setValidity(isValid) {\n        this.$valid = isValid;\n        this.$invalid = !isValid;\n      },\n      _setDirty: function _setDirty() {\n        this.$dirty = true;\n        this.$pristine = false;\n      },\n      _setPristine: function _setPristine() {\n        this.$dirty = false;\n        this.$pristine = true;\n      },\n      _setTouched: function _setTouched() {\n        this.$touched = true;\n        this.$untouched = false;\n      },\n      _setUntouched: function _setUntouched() {\n        this.$touched = false;\n        this.$untouched = true;\n      },\n      _setFocused: function _setFocused(value) {\n        this.$focused = typeof value === 'boolean' ? value : false;\n        if (this.$focused) {\n          this._setHasFocused();\n        } else {\n          this._setTouched();\n        }\n      },\n      _setHasFocused: function _setHasFocused() {\n        this._hasFocused = true;\n      },\n\n      _hasFocused: false,\n      _validators: {},\n      _validate: function _validate(vnode) {\n        var _this3 = this;\n\n        if (!vnode) {\n          vnode = prevVnode;\n        } else {\n          prevVnode = vnode;\n        }\n        this.$pending = true;\n        var isValid = true;\n        var emptyAndRequired = false;\n        var value = vModelValue(vnode.data);\n        _val = value;\n\n        var pending = {\n          promises: [],\n          names: []\n        };\n\n        pendingValidators.push(pending);\n\n        var attrs = vnode.data.attrs || {};\n        var childvm = vnode.componentInstance;\n        if (childvm && childvm._vfValidationData_) {\n          attrs = extend({}, attrs, childvm._vfValidationData_);\n        }\n\n        var propsData = vnode.componentOptions && vnode.componentOptions.propsData ? vnode.componentOptions.propsData : {};\n\n        Object.keys(this._validators).forEach(function (validator) {\n          // when value is empty and current validator is not the required validator, the field is valid\n          if ((value === '' || value === undefined || value === null) && validator !== 'required') {\n            _this3._setValidatorValidity(validator, true);\n            emptyAndRequired = true;\n            // return early, required validator will\n            // fall through if it is present\n            return;\n          }\n\n          var attrValue = typeof attrs[validator] !== 'undefined' ? attrs[validator] : propsData[validator];\n          var isFunction = typeof _this3._validators[validator] === 'function';\n\n          // match vue behaviour, ignore if attribute is null or undefined. But for type=email|url|number and custom validators, the value will be null, so allow with _allowNulls\n          if (isFunction && (attrValue === null || typeof attrValue === 'undefined') && !_this3._validators[validator]._allowNulls) {\n            return;\n          }\n\n          if (attrValue) {\n            _this3.$attrs[validator] = attrValue;\n          }\n\n          var result = isFunction ? _this3._validators[validator](value, attrValue, vnode) : vm.custom[validator];\n\n          if (typeof result === 'boolean') {\n            if (result) {\n              _this3._setValidatorValidity(validator, true);\n            } else {\n              isValid = false;\n              _this3._setValidatorValidity(validator, false);\n            }\n          } else {\n            pending.promises.push(result);\n            pending.names.push(validator);\n            vm.vueFormParentForm.promises.push(result);\n          }\n        });\n\n        if (pending.promises.length) {\n          vm.vueFormConfig.Promise.all(pending.promises).then(function (results) {\n\n            // only concerned with the last promise results, in case\n            // async responses return out of order\n            if (pending !== pendingValidators[pendingValidators.length - 1]) {\n              //console.log('ignoring old promise', pending.promises);\n              return;\n            }\n\n            pendingValidators = [];\n\n            results.forEach(function (result, i) {\n              var name = pending.names[i];\n              if (result) {\n                _this3._setValidatorValidity(name, true);\n              } else {\n                isValid = false;\n                _this3._setValidatorValidity(name, false);\n              }\n            });\n            _this3._setValidity(isValid);\n            _this3.$pending = false;\n          });\n        } else {\n          this._setValidity(isValid);\n          this.$pending = false;\n        }\n      }\n    };\n\n    // add custom validators\n    if (this.custom) {\n      Object.keys(this.custom).forEach(function (prop) {\n        if (typeof _this4.custom[prop] === 'function') {\n          _this4.custom[prop]._allowNulls = true;\n          _this4.fieldstate._validators[prop] = _this4.custom[prop];\n        } else {\n          _this4.fieldstate._validators[prop] = _this4.custom[prop];\n        }\n      });\n    }\n\n    this.$watch('custom', function (v, oldV) {\n      if (!oldV || !v) {\n        return;\n      }\n      if (isShallowObjectDifferent(v, oldV)) {\n        _this4.fieldstate._validate();\n      }\n    }, {\n      deep: true\n    });\n  },\n  destroyed: function destroyed() {\n    this.formstate._removeControl(this.fieldstate);\n  }\n};\n\nvar field = {\n  inject: { vueFormConfig: vueFormConfig },\n  render: function render(h) {\n    var foundVnodes = getVModelAndLabel(this.$slots.default, this.vueFormConfig);\n    var vModelnodes = foundVnodes.vModel;\n    var attrs = {\n      for: null\n    };\n    if (vModelnodes.length) {\n      if (this.autoLabel) {\n        var id = vModelnodes[0].data.attrs && vModelnodes[0].data.attrs.id || 'vf' + randomId();\n        vModelnodes[0].data.attrs.id = id;\n        if (foundVnodes.label) {\n          foundVnodes.label.data = foundVnodes.label.data || {};\n          foundVnodes.label.data.attrs = foundVnodes.label.data.attrs = {};\n          foundVnodes.label.data.attrs.for = id;\n        } else if (this.tag === 'label') {\n          attrs.for = id;\n        }\n      }\n    }\n    return h(this.tag || this.vueFormConfig.fieldTag, { attrs: attrs }, this.$slots.default);\n  },\n\n  props: {\n    tag: {\n      type: String\n    },\n    autoLabel: {\n      type: Boolean,\n      default: true\n    }\n  }\n};\n\nvar debouncedValidators = {};\n\nfunction addValidators(attrs, validators, fieldValidators) {\n  Object.keys(attrs).forEach(function (attr) {\n    var prop = attr === 'type' ? attrs[attr].toLowerCase() : attr.toLowerCase();\n\n    if (validators[prop] && !fieldValidators[prop]) {\n      fieldValidators[prop] = validators[prop];\n    }\n  });\n}\n\nfunction compareChanges(vnode, oldvnode, validators) {\n\n  var hasChanged = false;\n  var attrs = vnode.data.attrs || {};\n  var oldAttrs = oldvnode.data.attrs || {};\n  var out = {};\n\n  if (vModelValue(vnode.data) !== vModelValue(oldvnode.data)) {\n    out.vModel = true;\n    hasChanged = true;\n  }\n\n  Object.keys(validators).forEach(function (validator) {\n    if (attrs[validator] !== oldAttrs[validator]) {\n      out[validator] = true;\n      hasChanged = true;\n    }\n  });\n\n  // if is a component\n  if (vnode.componentOptions && vnode.componentOptions.propsData) {\n    var _attrs = vnode.componentOptions.propsData;\n    var _oldAttrs = oldvnode.componentOptions.propsData;\n    Object.keys(validators).forEach(function (validator) {\n      if (_attrs[validator] !== _oldAttrs[validator]) {\n        out[validator] = true;\n        hasChanged = true;\n      }\n    });\n  }\n\n  if (hasChanged) {\n    return out;\n  }\n}\n\nvar vueFormValidator = {\n  name: 'vue-form-validator',\n  bind: function bind(el, binding, vnode) {\n    var fieldstate = binding.value.fieldstate;\n    var validators = binding.value.config.validators;\n\n    var attrs = vnode.data.attrs || {};\n    var inputName = getName(vnode);\n\n    if (!inputName) {\n      console.warn('vue-form: name attribute missing');\n      return;\n    }\n\n    if (attrs.debounce) {\n      debouncedValidators[fieldstate._id] = debounce(function (fieldstate, vnode) {\n        if (fieldstate._hasFocused) {\n          fieldstate._setDirty();\n        }\n        fieldstate._validate(vnode);\n      }, attrs.debounce);\n    }\n\n    // add validators\n    addValidators(attrs, validators, fieldstate._validators);\n\n    // if is a component, a validator attribute could be a prop this component uses\n    if (vnode.componentOptions && vnode.componentOptions.propsData) {\n      addValidators(vnode.componentOptions.propsData, validators, fieldstate._validators);\n    }\n\n    fieldstate._validate(vnode);\n\n    // native listeners\n    el.addEventListener('blur', function () {\n      fieldstate._setFocused(false);\n    }, false);\n    el.addEventListener('focus', function () {\n      fieldstate._setFocused(true);\n    }, false);\n\n    // component listeners\n    var vm = vnode.componentInstance;\n    if (vm) {\n      vm.$on('blur', function () {\n        fieldstate._setFocused(false);\n      });\n      vm.$on('focus', function () {\n        fieldstate._setFocused(true);\n      });\n\n      vm.$once('vf:addFocusListeners', function () {\n        el.addEventListener('focusout', function () {\n          fieldstate._setFocused(false);\n        }, false);\n        el.addEventListener('focusin', function () {\n          fieldstate._setFocused(true);\n        }, false);\n      });\n\n      vm.$on('vf:validate', function (data) {\n        if (!vm._vfValidationData_) {\n          addValidators(data, validators, fieldstate._validators);\n        }\n        vm._vfValidationData_ = data;\n        fieldstate._validate(vm.$vnode);\n      });\n    }\n  },\n  update: function update(el, binding, vnode, oldVNode) {\n    var validators = binding.value.config.validators;\n\n    var changes = compareChanges(vnode, oldVNode, validators);\n    var fieldstate = binding.value.fieldstate;\n\n\n    var attrs = vnode.data.attrs || {};\n    var vm = vnode.componentInstance;\n    if (vm && vm._vfValidationData_) {\n      attrs = extend({}, attrs, vm[vm._vfValidationData_]);\n    }\n\n    if (vnode.elm.className.indexOf(fieldstate._className[0]) === -1) {\n      vnode.elm.className = vnode.elm.className + ' ' + fieldstate._className.join(' ');\n    }\n\n    if (!changes) {\n      return;\n    }\n\n    if (changes.vModel) {\n      // re-validate all\n      if (attrs.debounce) {\n        fieldstate.$pending = true;\n        debouncedValidators[fieldstate._id](fieldstate, vnode);\n      } else {\n        if (fieldstate._hasFocused) {\n          fieldstate._setDirty();\n        }\n        fieldstate._validate(vnode);\n      }\n    } else {\n      // attributes have changed\n      // to do: loop through them and re-validate changed ones\n      //for(let prop in changes) {\n      //  fieldstate._validate(vnode, validator);\n      //}\n      // for now\n      fieldstate._validate(vnode);\n    }\n  }\n};\n\nfunction VueFormBase(options) {\n  var _components;\n\n  var c = extend(true, {}, config, options);\n  this.provide = function () {\n    return defineProperty({}, vueFormConfig, c);\n  };\n  this.components = (_components = {}, defineProperty(_components, c.formComponent, vueForm), defineProperty(_components, c.messagesComponent, messages), defineProperty(_components, c.validateComponent, validate), defineProperty(_components, c.fieldComponent, field), _components);\n  this.directives = { vueFormValidator: vueFormValidator };\n}\n\nvar VueForm = function (_VueFormBase) {\n  inherits(VueForm, _VueFormBase);\n\n  function VueForm() {\n    classCallCheck(this, VueForm);\n    return possibleConstructorReturn(this, (VueForm.__proto__ || Object.getPrototypeOf(VueForm)).apply(this, arguments));\n  }\n\n  createClass(VueForm, null, [{\n    key: 'install',\n    value: function install(Vue, options) {\n      Vue.mixin(new this(options));\n    }\n  }, {\n    key: 'installed',\n    get: function get$$1() {\n      return !!this.install.done;\n    },\n    set: function set$$1(val) {\n      this.install.done = val;\n    }\n  }]);\n  return VueForm;\n}(VueFormBase);\n\nVueFormBase.call(VueForm);\n// temp fix for vue 2.3.0\nVueForm.options = new VueForm();\n\nreturn VueForm;\n\n})));\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}